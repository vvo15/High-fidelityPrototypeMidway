<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Standards & Guidelines â€“ BSA COPE & Climbing</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header id="main-nav"></header>

    <main class="container">
      <h1>Standards & Guidelines</h1>
      <p class="section-lead">
        These standards, guidelines, and references support safe COPE and
        climbing programs.
      </p>

      <div id="standards-grid" class="card-grid"></div>
    </main>

    <script src="navbar.js"></script>
    <script src="navbar.js"></script>
    <script>
      fetch("data.json")
        .then(function (res) {
          return res.json();
        })
        .then(function (data) {
          var standards = data.standards || [];
          var container = document.getElementById("standards-grid");

          standards.forEach(function (s) {
            var card = document.createElement("div");
            // same base card style as class topics
            card.className = "card";

            card.innerHTML =
              "<h3>" +
              s.title +
              "</h3>" +
              "<p>" +
              s.description +
              "</p>" +
              '<button class="btn ghost standards-btn">' +
              (s.buttonLabel || "Access the Standards") +
              "</button>";

            card
              .querySelector(".standards-btn")
              .addEventListener("click", function () {
                window.location.href =
                  "standardDetail.html?standard=" + encodeURIComponent(s.id);
              });

            container.appendChild(card);
          });
        })
        .catch(function (err) {
          console.error("Error loading data.json for standards:", err);
          var container = document.getElementById("standards-grid");
          container.textContent = "There was a problem loading the standards.";
        });
    </script>
  </body>
</html>
