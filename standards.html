<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Standards & Guidelines â€“ BSA COPE & Climbing</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header id="main-nav"></header>

    <main class="container">
      <h1>Standards & Guidelines</h1>
      <p class="section-lead">
        These standards, guidelines, and references support safe COPE and
        climbing programs.
      </p>

      <div id="standards-grid" class="card-grid"></div>
    </main>

    <script src="navbar.js"></script>
    <script>
      fetch("data.json")
        .then(function (res) {
          return res.json();
        })
        .then(function (data) {
          var standards = data.standards || [];
          var container = document.getElementById("standards-grid");

          standards.forEach(function (s) {
            var card = document.createElement("div");
            card.className = "card standard-card";

            if (s.image) {
              var img = document.createElement("img");
              img.src = s.image;
              img.alt = s.title;
              img.className = "card-image";
              card.appendChild(img);
            }

            var h3 = document.createElement("h3");
            h3.textContent = s.title;
            card.appendChild(h3);

            var p = document.createElement("p");
            p.textContent = s.description;
            card.appendChild(p);

            var btn = document.createElement("button");
            btn.textContent = s.buttonLabel || "View";
            btn.className = "btn secondary";

            btn.addEventListener("click", function () {
              window.location.href =
                "standardDetail.html?standard=" + encodeURIComponent(s.id);
            });

            card.appendChild(btn);

            container.appendChild(card);
          });
        })
        .catch(function (err) {
          console.error("Error loading data.json for standards:", err);
          var container = document.getElementById("standards-grid");
          container.textContent = "There was a problem loading the standards.";
        });
    </script>
  </body>
</html>
